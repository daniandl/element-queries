!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(window,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";o.r(t),o.d(t,"ElementQueries",(function(){return a}));const n=/([_A-z]+[A-z0-9-_]+):(\d+)/g,r="Please provide a HTMLElement",i="Please provide an array of HTMLElements",s="No breakpoints found on element",c={htmlAttrBreakpoints:"data-eq-breakpoints",htmlAttrActive:"data-eq-active"};class a{constructor(e){this.opts=Object.freeze({...c,...e}),this.observer=new ResizeObserver(this.onResize.bind(this)),this.elements=new WeakMap,/complete|interactive|loaded/.test(document.readyState)?this.onDocumentLoad():document.addEventListener("DOMContentLoaded",this.onDocumentLoad.bind(this),{once:!0})}onDocumentLoad(){this.init(),this.domObserver=new MutationObserver(this.onDomMutation.bind(this)),this.domObserver.observe(document.body,{childList:!0,subtree:!0})}init(){const e=document.querySelectorAll(`[${this.opts.htmlAttrBreakpoints}]`);for(const t of e)try{this.watch(t)}catch(e){console.error(e,t)}}onResize(e){const t=new Set;for(var o=e.length-1;o>=0;o--){const{target:n,borderBoxSize:r}=e[o];if(this.elements.has(n)){let e,o;if(r&&r[0])e=r[0].inlineSize,o=r[0].blockSize;else{const t=n.getBoundingClientRect();e=t.width,o=t.height}const i=this.elements.get(n);this.elements.set(n,{...i,width:e,height:o}),t.add(n)}}this.update([...t])}onDomMutation(e){for(var t=e.length-1;t>=0;t--)if(e[t].addedNodes.length)for(var o=e[t].addedNodes.length-1;o>=0;o--){const n=e[t].addedNodes[o];if(n instanceof HTMLElement&&n.hasAttribute(this.opts.htmlAttrBreakpoints))try{this.watch(n)}catch(e){console.error(e,n)}}}watch(e){if(!(e&&e instanceof HTMLElement))throw new Error(r);if(!e.hasAttribute(this.opts.htmlAttrBreakpoints))throw new Error(s);const t=[...e.getAttribute(this.opts.htmlAttrBreakpoints).replace(/ /g,"").matchAll(n)];if(!t.length)throw new Error(s);const o=t.reduce((e,t)=>t[1]&&t[2]?(e[t[1]]=+t[2],e):e,{});this.elements.set(e,{breakpoints:o}),this.observer.observe(e,{box:"border-box"})}update(e){if(!(e&&Array.isArray(e)&&e.length&&e.every(e=>e instanceof HTMLElement)))throw new Error(i);for(var t=e.length-1;t>=0;t--){const n=e[t],r=this.elements.get(n);if(r&&r.breakpoints){const{width:e}=r;let t=null;const i=(o=r.breakpoints,Object.entries(o).reduce((e,[t,o])=>Object.assign(e,{[o]:t}),{})),s=Object.values(r.breakpoints).sort(),c=s[s.length-1];if(e>=c)t=i[c];else if(e>s[0])for(let o=0;o<s.length;o++){const n=s[o];e>=n&&(t=i[n])}if(t){n.setAttribute(this.opts.htmlAttrActive,t);continue}}n.removeAttribute(this.opts.htmlAttrActive)}var o}destroy(){this.observer&&this.observer.disconnect(),this.domObserver&&this.domObserver.disconnect(),this.elements=new WeakMap}}}])}));